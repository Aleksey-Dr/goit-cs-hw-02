<a id="top"></a>

# Check websites

**Bash**-—Å–∫—Ä–∏–ø—Ç, —è–∫–∏–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—î –¥–æ—Å—Ç—É–ø–Ω—ñ—Å—Ç—å –≤–µ–±—Å–∞–π—Ç—ñ–≤ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é ```curl``` —Ç–∞ –∑–∞–ø–∏—Å—É—î —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏ —É —Ñ–∞–π–ª –ª–æ–≥—ñ–≤

---

**–ó–º—ñ—Å—Ç**

<a href="#1"><img src="https://img.shields.io/badge/–Ø–∫ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —Ü–µ–π —Å–∫—Ä–∏–ø—Ç-512BD4?style=for-the-badge"/></a> <a href="#2"><img src="https://img.shields.io/badge/–ü–æ—è—Å–Ω–µ–Ω–Ω—è —Å–∫—Ä–∏–ø—Ç–∞-ECD53F?style=for-the-badge"/></a> <a href="#3"><img src="https://img.shields.io/badge/–î–æ–¥–∞—Ç–æ–∫-007054?style=for-the-badge"/></a>

---

<a id="1"></a>

## –Ø–∫ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —Ü–µ–π —Å–∫—Ä–∏–ø—Ç üåê

1. **–ó–±–µ—Ä–µ–∂—ñ—Ç—å —Å–∫—Ä–∏–ø—Ç**
2. **–ù–∞–¥–∞–π—Ç–µ –¥–æ–∑–≤–æ–ª–∏ –Ω–∞ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è:** –í—ñ–¥–∫—Ä–∏–π—Ç–µ —Ç–µ—Ä–º—ñ–Ω–∞–ª, –ø–µ—Ä–µ–π–¥—ñ—Ç—å –¥–æ –∫–∞—Ç–∞–ª–æ–≥—É, –¥–µ –≤–∏ –∑–±–µ—Ä–µ–≥–ª–∏ —Ñ–∞–π–ª, —ñ –≤–∏–∫–æ–Ω–∞–π—Ç–µ –∫–æ–º–∞–Ω–¥—É:

```bash
chmod +x script.sh
```

3. **–ó–∞–ø—É—Å—Ç—ñ—Ç—å —Å–∫—Ä–∏–ø—Ç:** –í–∏–∫–æ–Ω–∞–π—Ç–µ —Å–∫—Ä–∏–ø—Ç —É —Ç–µ—Ä–º—ñ–Ω–∞–ª—ñ:

```bash
./script.sh
```
–∞–±–æ
```bash
bash script.sh
```

[Top :arrow_double_up:](#top)

<a id="2"></a>

## –ü–æ—è—Å–Ω–µ–Ω–Ω—è —Å–∫—Ä–∏–ø—Ç–∞ üìñ

```#!/usr/bin/bash``` : –¶–µ shebang, —è–∫–∏–π –≤–∫–∞–∑—É—î —Å–∏—Å—Ç–µ–º—ñ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ Bash –¥–ª—è –≤–∏–∫–æ–Ω–∞–Ω–Ω—è —Å–∫—Ä–∏–ø—Ç–∞.

–ë—É–¥—å-—è–∫—ñ bash-—Å–∫—Ä–∏–ø—Ç–∏ –ø–æ—á–∏–Ω–∞—é—Ç—å—Å—è –∑ ```#!/bin/bash```. –¶–µ —Ä—è–¥–æ–∫, —è–∫–∏–π –≤–∫–∞–∑—É—î –Ω–∞ –º—ñ—Å—Ü–µ –∑–Ω–∞—Ö–æ–¥–∂–µ–Ω–Ω—è ***bash***. –ü–æ–¥–∏–≤–∏—Ç–∏—Å—è, –¥–µ –∑–Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è ***bash***, –º–æ–∂–Ω–∞ –∫–æ–º–∞–Ω–¥–æ—é:

```bash
whereis bash
```

>[!tip]
>–£ **Windows** ==–Ω–µ–º–∞—î –∫–æ–º–∞–Ω–¥–∏== ```whereis``` —É —Ç–æ–º—É –≤–∏–≥–ª—è–¥—ñ, –≤ —è–∫–æ–º—É –≤–æ–Ω–∞ —î –≤ **Linux**. –ö–æ–º–∞–Ω–¥–∞, ```which``` —Ç–∞–∫–æ–∂ –Ω–µ —î –≤–±—É–¥–æ–≤–∞–Ω–æ—é –∫–æ–º–∞–Ω–¥–æ—é ***Windows Command Prompt*** (```cmd.exe```). ==–û–¥–Ω–∞–∫== ```which``` ==–º–æ–∂–µ –±—É—Ç–∏ –¥–æ—Å—Ç—É–ø–Ω–∞==, —è–∫—â–æ —É –≤–∞—Å –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ñ —Å—Ç–æ—Ä–æ–Ω–Ω—ñ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏, —Ç–∞–∫—ñ —è–∫ ***Git Bash, Cygwin, MSYS2 –∞–±–æ Windows Subsystem for Linux (WSL)***.

```bash
which bash
```

```websites=(...)``` : –¶–µ –º–∞—Å–∏–≤ **Bash**, —â–æ –º—ñ—Å—Ç–∏—Ç—å —Å–ø–∏—Å–æ–∫ ```URL```-–∞–¥—Ä–µ—Å –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏. –í–∏ –º–æ–∂–µ—Ç–µ –¥–æ–¥–∞—Ç–∏ –∞–±–æ –≤–∏–¥–∞–ª–∏—Ç–∏ ```URL```-–∞–¥—Ä–µ—Å–∏ –∑ —Ü—å–æ–≥–æ —Å–ø–∏—Å–∫—É.

```LOG_FILE="website_status.log"``` : –ó–º—ñ–Ω–Ω–∞, —â–æ –≤–∏–∑–Ω–∞—á–∞—î –Ω–∞–∑–≤—É —Ñ–∞–π–ª—É –ª–æ–≥—ñ–≤.

```> "$LOG_FILE"``` : –¶—è –∫–æ–º–∞–Ω–¥–∞ ==–æ—á–∏—â–∞—î== —Ñ–∞–π–ª –ª–æ–≥—ñ–≤ –ø–µ—Ä–µ–¥ –∫–æ–∂–Ω–∏–º –∑–∞–ø—É—Å–∫–æ–º —Å–∫—Ä–∏–ø—Ç–∞, —â–æ–± –≤–∏ –∑–∞–≤–∂–¥–∏ –º–∞–ª–∏ –∞–∫—Ç—É–∞–ª—å–Ω—ñ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏.

```for site in "${websites[@]}"; do ... done``` : –¶–∏–∫–ª, —è–∫–∏–π –ø–µ—Ä–µ–±–∏—Ä–∞—î –∫–æ–∂–µ–Ω –≤–µ–±—Å–∞–π—Ç —É –º–∞—Å–∏–≤—ñ ```websites```.

```curl -o /dev/null -s -w "%{http_code}" "$site"``` :

- ```-o /dev/null``` : –í—ñ–¥—Ö–∏–ª—è—î –≤–∏–≤—ñ–¥ —Ç—ñ–ª–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ HTTP, –æ—Å–∫—ñ–ª—å–∫–∏ –Ω–∞–º –ø–æ—Ç—Ä—ñ–±–µ–Ω –ª–∏—à–µ —Å—Ç–∞—Ç—É—Å-–∫–æ–¥.
- ```-s``` : –†–æ–±—ñ—Ç—å ```curl``` ***"—Ç–∏—Ö–∏–º"***, –ø—Ä–∏—Ö–æ–≤—É—é—á–∏ —ñ–Ω–¥–∏–∫–∞—Ç–æ—Ä–∏ –ø—Ä–æ–≥—Ä–µ—Å—É —Ç–∞ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–æ –ø–æ–º–∏–ª–∫–∏.
- ```-w "%{http_code}"``` : –¶—è –æ–ø—Ü—ñ—è –¥–æ–∑–≤–æ–ª—è—î –≤–∫–∞–∑–∞—Ç–∏ —Ñ–æ—Ä–º–∞—Ç –≤–∏–≤–æ–¥—É –ø—ñ—Å–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è –æ–ø–µ—Ä–∞—Ü—ñ—ó. ```%{http_code}``` –≤–∏–≤–æ–¥–∏—Ç—å –ª–∏—à–µ –æ—Ç—Ä–∏–º–∞–Ω–∏–π ```HTTP``` —Å—Ç–∞—Ç—É—Å-–∫–æ–¥.

```http_code=$(...)``` : –ó–±–µ—Ä—ñ–≥–∞—î –æ—Ç—Ä–∏–º–∞–Ω–∏–π HTTP —Å—Ç–∞—Ç—É—Å-–∫–æ–¥ —É –∑–º—ñ–Ω–Ω—É ```http_code```.

```if [ "$http_code" -eq 200 ]; then ... else ... fi``` : –£–º–æ–≤–Ω–∏–π –æ–ø–µ—Ä–∞—Ç–æ—Ä, —è–∫–∏–π –ø–µ—Ä–µ–≤—ñ—Ä—è—î, —á–∏ –¥–æ—Ä—ñ–≤–Ω—é—î —Å—Ç–∞—Ç—É—Å-–∫–æ–¥ ```200```.

- –Ø–∫—â–æ ```200```, —Å–∞–π—Ç –≤–≤–∞–∂–∞—î—Ç—å—Å—è "UP".
- –í —ñ–Ω—à–æ–º—É –≤–∏–ø–∞–¥–∫—É, —Å–∞–π—Ç "```DOWN```", —ñ –≤ –ª–æ–≥ –±—É–¥–µ –∑–∞–ø–∏—Å–∞–Ω–æ –æ—Ç—Ä–∏–º–∞–Ω–∏–π ```HTTP```-–∫–æ–¥.

>[!tip]
>```301``` (***Moved Permanently***). –¶–µ –æ–∑–Ω–∞—á–∞—î, —â–æ —Ä–µ—Å—É—Ä—Å –±—É–ª–æ –ø–µ—Ä–µ–º—ñ—â–µ–Ω–æ –Ω–∞ –Ω–æ–≤–∏–π ```URL```. –°–∞–º –ø–æ —Å–æ–±—ñ —Ü–µ–π —Å—Ç–∞—Ç—É—Å –Ω–µ —î –ø–æ–º–∏–ª–∫–æ—é, –∞–ª–µ –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç—ñ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ "```UP" / "DOWN```" –≤–∞—à —Å–∫—Ä–∏–ø—Ç —ñ–Ω—Ç–µ—Ä–ø—Ä–µ—Ç—É—î –π–æ–≥–æ —è–∫ "```DOWN```", –æ—Å–∫—ñ–ª—å–∫–∏ –æ—á—ñ–∫—É—î—Ç—å—Å—è —Å–∞–º–µ ```200```
>```302``` (***Found***). –¶–µ —Å—Ö–æ–∂–µ –Ω–∞ ```301```, –∞–ª–µ –≤–∫–∞–∑—É—î –Ω–∞ —Ç–∏–º—á–∞—Å–æ–≤–µ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω—è. –ó–Ω–æ–≤—É –∂ —Ç–∞–∫–∏, –≤–∞—à —Å–∫—Ä–∏–ø—Ç –∫–ª–∞—Å–∏—Ñ—ñ–∫—É—î —Ü–µ —è–∫ "```DOWN```", –æ—Å–∫—ñ–ª—å–∫–∏ —Ü–µ –Ω–µ ```200```

```echo "$status" | tee -a "$LOG_FILE"``` :

- ```echo "$status"``` : –í–∏–≤–æ–¥–∏—Ç—å —Å—Ç–∞—Ç—É—Å –Ω–∞ –µ–∫—Ä–∞–Ω (—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏–π –≤–∏–≤—ñ–¥).
- ```| tee -a "$LOG_FILE"``` : ```tee``` –¥–æ–∑–≤–æ–ª—è—î –æ–¥–Ω–æ—á–∞—Å–Ω–æ –≤–∏–≤–æ–¥–∏—Ç–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –Ω–∞ –µ–∫—Ä–∞–Ω —ñ –¥–æ–ø–∏—Å—É–≤–∞—Ç–∏ –π–æ–≥–æ (–æ–ø—Ü—ñ—è ```-a``` –¥–ª—è "***append***") –¥–æ —Ñ–∞–π–ª—É –ª–æ–≥—ñ–≤ ```website_status.log```.

–ü—ñ—Å–ª—è –≤–∏–∫–æ–Ω–∞–Ω–Ω—è —Å–∫—Ä–∏–ø—Ç—É –≤–∏ –ø–æ–±–∞—á–∏—Ç–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–æ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è, –∞ —Ñ–∞–π–ª ```website_status.log``` —É —Ç–æ–º—É –∂ –∫–∞—Ç–∞–ª–æ–∑—ñ –º—ñ—Å—Ç–∏—Ç–∏–º–µ –¥–µ—Ç–∞–ª—å–Ω–∏–π –∑–≤—ñ—Ç –ø—Ä–æ –¥–æ—Å—Ç—É–ø–Ω—ñ—Å—Ç—å –∫–æ–∂–Ω–æ–≥–æ –≤–µ–±—Å–∞–π—Ç—É.

[Top :arrow_double_up:](#top)

<a id="3"></a>

## –î–æ–¥–∞—Ç–æ–∫ üìå

>[!tip]
>–ö–æ–º–∞–Ω–¥–∞ ```echo``` ‚Äî —Ü–µ –æ–¥–Ω–∞ –∑ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω–∏—Ö –∫–æ–º–∞–Ω–¥ bash-—Å–∫—Ä–∏–ø—Ç—ñ–≤. –á—ó –æ—Å–Ω–æ–≤–Ω–µ –ø—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è –ø–æ–ª—è–≥–∞—î —É –≤–∏–≤–µ–¥–µ–Ω–Ω—ñ –±—É–¥—å-—è–∫–æ—ó —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó –Ω–∞ –µ–∫—Ä–∞–Ω

```echo ${array[@]}``` - –≤–∏–≤–æ–¥–∏—Ç—å –≤—Å—ñ –µ–ª–µ–º–µ–Ω—Ç–∏ –º–∞—Å–∏–≤—É

–î–ª—è –ø–µ—Ä–µ–±–æ—Ä—É –µ–ª–µ–º–µ–Ω—Ç—ñ–≤ –º–∞—Å–∏–≤—É –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å —Ü–∏–∫–ª ```for```:

```bash
for item in "${array[@]}"; do
    echo $item
done
```

–£ ***bash*** –±–ª–æ–∫ ```if``` –ø–æ—á–∏–Ω–∞—î—Ç—å—Å—è –∑ –∫–ª—é—á–æ–≤–æ–≥–æ —Å–ª–æ–≤–∞ ```if``` —ñ –∑–∞–∫—ñ–Ω—á—É—î—Ç—å—Å—è –∫–ª—é—á–æ–≤–∏–º —Å–ª–æ–≤–æ–º ```fi```. –Ø–∫—â–æ –∑–∞–¥–∞–Ω–∞ —É–º–æ–≤–∞ –ø–æ–º–∏–ª–∫–æ–≤–∞, —Ç–æ –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è –±–ª–æ–∫ ```else```.

### –ú–æ–∂–ª–∏–≤—ñ –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è —Å–∫—Ä–∏–ø—Ç–∞

–©–æ–± –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω—è (301, 302) —Ç–∞–∫–æ–∂ –≤–≤–∞–∂–∞–ª–∏—Å—è "UP", –Ω–µ–æ–±—Ö—ñ–¥–Ω–æ –∑–º—ñ–Ω–∏—Ç–∏ –ª–æ–≥—ñ–∫—É –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ —Å—Ç–∞—Ç—É—Å-–∫–æ–¥—É —É —Å–∫—Ä–∏–ø—Ç—ñ. –ù–∞–ø—Ä–∏–∫–ª–∞–¥, –ø–µ—Ä–µ–≤—ñ—Ä—è—Ç–∏, —á–∏ —Å—Ç–∞—Ç—É—Å-–∫–æ–¥ –º–µ–Ω—à–µ 400.

```bash
if [ "$http_code" -ge 200 ] && [ "$http_code" -lt 400 ]; then
    status="$site is UP"
else
    status="$site is DOWN (HTTP Code: $http_code)"
fi
```

–¶—è –∑–º—ñ–Ω–∞ –¥–æ–∑–≤–æ–ª–∏—Ç—å –≤–≤–∞–∂–∞—Ç–∏ —Å–∞–π—Ç–∏ –¥–æ—Å—Ç—É–ø–Ω–∏–º–∏, —è–∫—â–æ –≤–æ–Ω–∏ –ø–æ–≤–µ—Ä—Ç–∞—é—Ç—å –±—É–¥—å-—è–∫–∏–π —É—Å–ø—ñ—à–Ω–∏–π —Å—Ç–∞—Ç—É—Å (2xx) –∞–±–æ —Å—Ç–∞—Ç—É—Å –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω—è (3xx).

[Top :arrow_double_up:](#top)